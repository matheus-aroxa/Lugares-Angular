<div class="p-4 bg-white shadow">
  <form #formFiltro="ngForm">
    <div class="flex flex-col md:flex-row items-center justify-center gap-4">
      <input type="text" placeholder="Pesquisar pelo nome do local"
             class="w-full border border-gray-300 p-2 rounded shadow-sm focus:ring focus:rind-border"
              [(ngModel)]="nomeFiltro"
              name="nomeFiltro">

      <select class="w-full border border-gray-300 p-2 rounded shadow-sm focus:ring focus:ring-border"
              [(ngModel)]="categoriaFiltro"
              name="categoriaFiltro">
        <option [value]="" selected>Todas as categorias</option>
        @for (c of (categorias$ | async); track c.nome){
          <option [value]="c.nome">{{c.nome}}</option>
        }
      </select>
      <button (click)="filtrar()">Filtrar</button>
    </div>
  </form>
</div>

<div id="lugaresList" class="p-4 grid grid-col-1 md:grid-col-2 lg:grid-col-3 gap-6">
  <div class="bg-white shadow rounded overflow-hidden">
    @for (lugar of (lugares$ | async); track lugar.nome) {
      <img [src]="lugar.urlFoto" [alt]="lugar.nome" class="w-full h-40 object-cover">
      <div class="p-4">
        <h2 class="text-lg font-semibold">{{lugar.nome}}</h2>
        <p class="text-gray-500">Categoria: <span class="text-blue-600">{{lugar.categoria}}</span></p>
        <p class="text-gray-500">Localização: {{lugar.categoria}}</p>
        <div class="mt-2 flex items-center">
            <span class="text-yellow-500" [innerHTML]="renderizaAvaliacao(lugar?.avaliacao || 0)"></span>
            <span class="text-gray-600 ml-1">{{lugar.avaliacao}}</span>
        </div>
      </div>
    } @empty {
      <div class="m-2">
        <p class="text-center font-semibold p-2">Ainda não foram registrados lugares</p>
      </div>
    }
  </div>
</div>
